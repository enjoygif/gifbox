<!DOCTYPE html><html lang="vi"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ğŸ„ QuÃ  GiÃ¡ng Sinh Cho Em ğŸ</title><style>body{background-color:#f0fff0;font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;overflow:hidden;perspective:1000px;background-image:radial-gradient(white 1px,transparent 0);background-size:30px 30px}#magicCanvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;opacity:.7}#mainContainer{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;width:100%;height:100%;z-index:100}#pinScreen{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#f0fff0;z-index:1000;display:flex;flex-direction:column;justify-content:center;align-items:center;transition:opacity .5s}#pinScreen.hidden{opacity:0;pointer-events:none}#pinDisplay{font-family:monospace;font-size:2.5em;letter-spacing:10px;border-bottom:3px solid #c0392b;padding:10px;min-width:280px;text-align:center;color:#333;margin-bottom:30px;user-select:none}#pinMessage{color:#e74c3c;height:20px;margin-bottom:10px;font-weight:700}#keypad{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;width:300px}@keyframes shake{0%{transform:translateX(0)}20%{transform:translateX(-10px)}40%{transform:translateX(10px)}60%{transform:translateX(-8px)}80%{transform:translateX(8px)}100%{transform:translateX(0)}}.pin-button{background-color:#fff;border:2px solid #27ae60;color:#c0392b;font-size:1.5em;font-weight:700;padding:15px 0;border-radius:10px;cursor:pointer;transition:background-color .1s,transform .1s;box-shadow:0 4px #27ae60}.pin-button:active{background-color:#c0392b;color:#fff;transform:translateY(4px);box-shadow:0 0 #c0392b}.action-btn{background-color:#eee;color:#666;box-shadow:0 4px #ccc}.action-btn:active{background-color:#ccc;color:#333;box-shadow:0 0 #ccc}#soundToggle{position:fixed;top:15px;right:15px;font-size:24px;cursor:pointer;color:#c0392b;z-index:300;transition:color .3s,transform .2s}#soundToggle:hover{color:#27ae60;transform:scale(1.1) rotate(5deg)}.heart-wrapper{position:absolute;z-index:200;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:opacity .3s ease-out,transform .3s ease-out;opacity:0;pointer-events:none;transform-style:preserve-3d}.heart-wrapper.active{opacity:1;pointer-events:all}.css-heart{position:relative;width:150px;height:150px;background-color:#c0392b;animation:twinkle-pulse 2s infinite ease-in-out;transform:rotate(-45deg);box-shadow:0 10px 30px rgba(255,255,255,.7),-5px 5px 20px rgba(241,196,15,.5);cursor:pointer;transition:box-shadow .2s;transform-origin:center center}.css-heart::after,.css-heart::before{content:"";position:absolute;width:150px;height:150px;border-radius:50%;background-color:#c0392b;transform-origin:50% 50%}.css-heart::before{top:-75px;left:0}.css-heart::after{left:75px;top:0}@keyframes twinkle-pulse{0%{transform:scale(.9) rotate(-45deg);filter:brightness(1)}50%{transform:scale(1.1) rotate(-45deg);filter:brightness(1.3);box-shadow:0 0 40px #f1c40f}100%{transform:scale(.9) rotate(-45deg);filter:brightness(1)}}.heart-wrapper.hidden{opacity:0;transform:scale(.5) translateY(-50px);pointer-events:none;animation:none!important}.heart-wrapper.invisible{display:none}.envelope-wrapper{position:relative;width:350px;height:220px;cursor:pointer;z-index:210;transition:transform .8s,opacity .8s,box-shadow .5s;box-shadow:0 10px 50px rgba(40,150,80,.7);transform:scale(.95);overflow:hidden;border-radius:5px;opacity:0;pointer-events:none;perspective:1000px}.envelope-wrapper.active{pointer-events:all}.envelope-wrapper.visible{opacity:1;animation:pulse-envelope 2s infinite ease-in-out}@keyframes pulse-envelope{0%{transform:scale(.95)}50%{transform:scale(1.02)}100%{transform:scale(.95)}}.flap{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#27ae60;border-radius:5px;z-index:50;transform-origin:top;transition:transform .8s ease-in-out;clip-path:polygon(0 0,100% 0,50% 50%,0 0);box-shadow:0 5px 15px rgba(0,0,0,.2)}.envelope{width:100%;height:100%;background-color:#f7f7e8;border-radius:5px;position:absolute;z-index:40}.envelope-wrapper.open .flap{transform:rotateX(180deg);z-index:30}.letter{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff;padding:20px;box-sizing:border-box;border-radius:10px;opacity:0;pointer-events:none;z-index:45;transition:all 1.4s cubic-bezier(.68, -.55, .265, 1.55);box-shadow:0 0 15px rgba(0,0,0,.2);background-image:radial-gradient(circle at 10% 20%,rgba(243,156,18,.2) 0,rgba(255,255,255,.8) 90%),url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"%3E%3Cg fill="%2327AE60" fill-opacity="0.2"%3E%3Cpath d="M50 0 L61.8 38.2 L100 38.2 L69.1 61.8 L80.9 100 L50 76.4 L19.1 100 L30.9 61.8 L0 38.2 L38.2 38.2 Z"/%3E%3C/g%3E%3C/svg%3E');background-size:cover,50px 50px;transform-origin:center center;transform-style:preserve-3d}.envelope-wrapper.open .letter{transform:translateY(-20px) scale(.5) rotateX(10deg);opacity:1;transition:opacity .5s ease-out,transform .8s ease-out}.letter.opened{position:fixed;opacity:1;pointer-events:all;z-index:999;width:auto;height:auto;min-width:300px;min-height:400px;max-width:500px;max-height:600px;top:50%;left:50%;transform:translate(-50%,-50%) scale(1.3) rotateX(15deg) rotateY(10deg) rotateZ(-5deg) translateZ(200px);transition:all 1.4s cubic-bezier(.68, -.55, .265, 1.55);border:5px solid #c0392b;box-shadow:0 0 50px rgba(40,150,80,.9);border-radius:10px;padding:25px}.letter.opened.final-scale{transform:translate(-50%,-50%) scale(1) rotateX(0) rotateY(0) rotateZ(0) translateZ(0);transition:all .3s ease-out}.envelope-wrapper.hidden{opacity:0;pointer-events:none;transform:scale(0);animation:none!important}@media (max-width:600px){.envelope-wrapper{width:300px;height:180px;perspective:800px}.letter.opened{width:80vw;height:70vh;max-width:90vw;max-height:90vh;padding:15px}.css-heart{width:120px;height:120px}.css-heart::after,.css-heart::before{width:120px;height:120px}.css-heart::before{top:-60px;left:0}.css-heart::after{left:60px;top:0}#keypad{width:250px;gap:10px}}.letter-content{display:flex;flex-direction:column;justify-content:center;align-items:center;overflow-y:auto;text-align:center;color:#333;font-size:1.1em;line-height:1.6;width:100%;height:100%;box-sizing:border-box;padding:0}.letter-content>*{max-width:100%;margin:5px 0}.letter-content h2{color:#c0392b;margin-top:0;font-size:1.8em;text-shadow:1px 1px 2px rgba(39,174,96,.5)}.letter-content.typing-active p{opacity:0}.letter-content.typing-active h2{opacity:0}.status-message{position:absolute;bottom:-50px;color:#27ae60;font-style:italic;font-size:.9em;width:100%;text-align:center;animation:pulse 2s infinite;z-index:10}@keyframes pulse{0%{opacity:.8}50%{opacity:1}100%{opacity:.8}}.confetti{position:fixed;top:-10px;left:0;width:8px;height:8px;border-radius:50%;pointer-events:none;opacity:0;z-index:1000}.confetti.star{background-color:transparent;width:12px;height:12px;clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);border-radius:0}@keyframes fall{to{transform:translate3d(var(--x),var(--y),0) rotate(var(--r));opacity:0}}#christmasIcon{position:fixed;top:20px;left:20px;font-size:30px;cursor:pointer;color:#f1c40f;text-shadow:0 0 10px rgba(243,156,18,.8),0 0 20px rgba(243,156,18,.5);z-index:500;transition:transform .2s,color .2s;animation:twinkle-icon 2s infinite alternate}#christmasIcon:hover{transform:scale(1.2) rotate(10deg);color:#fff}@keyframes twinkle-icon{0%{opacity:.8}100%{opacity:1}}#greetingModal{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:rgba(255,255,255,.9);z-index:5000;display:none;justify-content:center;align-items:center;opacity:0;transition:opacity .5s}#greetingModal.active{display:flex;opacity:1}.modal-content{background-color:#fff;border:5px solid #c0392b;border-radius:15px;padding:40px;max-width:400px;text-align:center;box-shadow:0 0 50px rgba(39,174,96,.5);transform:scale(.8);animation:modal-pop-in .4s forwards}@keyframes modal-pop-in{to{transform:scale(1)}}.modal-content h2{color:#c0392b;font-size:2.2em;text-shadow:1px 1px #27ae60;margin-bottom:20px}.modal-content p{color:#333;font-size:1.1em;margin-bottom:30px;font-style:italic}.love-button{background-color:#27ae60;color:#fff;border:none;padding:12px 30px;font-size:1.2em;font-weight:700;border-radius:50px;cursor:pointer;box-shadow:0 5px #1e8449;transition:all .1s}.love-button:active{transform:translateY(5px);box-shadow:0 0 #1e8449}</style><canvas id="magicCanvas"></canvas><div id="soundToggle">ğŸ”‡</div><audio id="bgm" loop><source src="christmas_music.mp3" type="audio/mpeg"></audio><audio id="pinSuccessSound"><source src="success_bell.mp3" type="audio/mpeg"></audio><audio id="envelopeOpenSound"><source src="envelope_open.mp3" type="audio/mpeg"></audio><audio id="typewriterStartSound"><source src="typewriter_start.mp3" type="audio/mpeg"></audio><div id="christmasIcon">ğŸŒŸ</div><div id="greetingModal"><div class="modal-content"><h2>MERRY CHRISTMAS, EM YÃŠU! ğŸ</h2><p>ChÃºc Em cÃ³ má»™t mÃ¹a GiÃ¡ng Sinh an lÃ nh, háº¡nh phÃºc vÃ  nháº­n Ä‘Æ°á»£c tháº­t nhiá»u Ä‘iá»u Æ°á»›c. Em cÃ³ muá»‘n nháº­n QuÃ  (Anh) khÃ´ng? ğŸ˜‰</p><button class="love-button" onclick="hideGreetingModal()">Em Chá»n Anh ğŸ¥°</button></div></div><div id="pinScreen"><h2 style="color:#c0392b;margin-bottom:30px">Vá»«ng Æ i Má»Ÿ Cá»­a ğŸ”’</h2><div id="pinDisplay">_ _ _ _</div><div id="pinMessage"></div><div id="keypad"><button class="pin-button">1</button> <button class="pin-button">2</button> <button class="pin-button">3</button> <button class="pin-button">4</button> <button class="pin-button">5</button> <button class="pin-button">6</button> <button class="pin-button">7</button> <button class="pin-button">8</button> <button class="pin-button">9</button> <button class="pin-button action-btn" data-action="delete">âŒ«</button> <button class="pin-button">0</button> <button class="pin-button action-btn" data-action="enter">OK</button></div></div><div id="mainContainer"><div class="heart-wrapper" id="heartWrapper"><div class="css-heart" id="initialHeart"></div></div><div class="envelope-wrapper" id="envelopeWrapper"><div class="flap"></div><div class="envelope"></div><div class="letter" id="letter"><div class="letter-content" id="letterContent"></div></div><p class="status-message" id="statusMessage">Cháº¡m vÃ o Quáº£ Cáº§u Tuyáº¿t Ä‘á»ƒ báº¯t Ä‘áº§u...</div></div><script>const envelopeOpenSound=document.getElementById("envelopeOpenSound"),typewriterStartSound=document.getElementById("typewriterStartSound"),pinSuccessSound=document.getElementById("pinSuccessSound");function playSound(t,e=1){isMuted||(t.currentTime=0,t.volume=e,t.play().catch(t=>console.log("Lá»—i phÃ¡t Ã¢m thanh hiá»‡u á»©ng:",t)))}const canvas=document.getElementById("magicCanvas"),ctx=canvas.getContext("2d");let width=window.innerWidth,height=window.innerHeight;canvas.width=width,canvas.height=height;let particles=[];const particleCount=150;class Particle{constructor(){this.reset()}reset(){this.x=Math.random()*width,this.y=Math.random()*height,this.size=2*Math.random()+1,this.speedX=.5*(Math.random()-.5),this.speedY=.8*Math.random()+.5,this.opacity=.7*Math.random()+.8;const t=["rgba(255, 255, 255, ","rgba(255, 215, 0, ","rgba(173, 216, 230, "];this.color=t[Math.floor(Math.random()*t.length)]}draw(){ctx.fillStyle=this.color+this.opacity+")",ctx.beginPath(),ctx.arc(this.x,this.y,this.size,0,2*Math.PI),ctx.fill()}update(){this.x+=this.speedX,this.y+=this.speedY,this.y>height&&(this.reset(),this.y=0),this.x+=.5*Math.sin(.01*this.y)}}function initCanvas(){for(let t=0;t<150;t++)particles.push(new Particle)}function animateCanvas(){ctx.fillStyle="rgba(240, 255, 240, 0.1)",ctx.fillRect(0,0,width,height),particles.forEach(t=>{t.update(),t.draw()}),requestAnimationFrame(animateCanvas)}window.addEventListener("resize",()=>{width=window.innerWidth,height=window.innerHeight,canvas.width=width,canvas.height=height,particles=[],initCanvas()}),initCanvas(),animateCanvas();const bgm=document.getElementById("bgm"),soundToggle=document.getElementById("soundToggle");let isMuted=!0,bgmUserInitiated=!1;function toggleSound(){isMuted?(bgm.muted=!1,bgm.play().catch(t=>{console.error("Lá»—i phÃ¡t nháº¡c:",t)}),soundToggle.textContent="ğŸ”Š",isMuted=!1,bgmUserInitiated=!0):(bgm.pause(),bgm.currentTime=0,soundToggle.textContent="ğŸ”‡",isMuted=!0,bgmUserInitiated=!1)}function handleVisibilityChange(){document.hidden?bgm.paused||isMuted||bgm.pause():bgmUserInitiated&&!isMuted&&bgm.play().catch(t=>console.log("Lá»—i tá»± Ä‘á»™ng phÃ¡t nháº¡c sau khi chuyá»ƒn tab:",t))}function applyTypewriterEffect(t,e=500){setTimeout(()=>{const e=t.querySelectorAll("h2, p");t.classList.add("typing-active"),playSound(typewriterStartSound,.5);let n=0;e.forEach(t=>{const e=t.innerHTML;t.innerHTML="",t.style.opacity="1",setTimeout(()=>{let n=0;!function i(){n<e.length&&(t.innerHTML+=e.charAt(n),n++,setTimeout(i,25))}()},n),n+=25*e.length+300})},e)}soundToggle.addEventListener("click",toggleSound),document.addEventListener("visibilitychange",handleVisibilityChange);const CORRECT_PIN="2929",MAX_PIN_LENGTH=4,SUCCESS_MESSAGE_DELAY=1e3,pinScreen=document.getElementById("pinScreen"),pinDisplay=document.getElementById("pinDisplay"),pinMessage=document.getElementById("pinMessage"),keypad=document.getElementById("keypad");let currentPin="";function updatePinDisplay(){let t=currentPin.padEnd(4,"_");pinDisplay.textContent=t.split("").join(" ")}function handleKeyPress(t){if(pinMessage.textContent="","delete"===t)currentPin=currentPin.slice(0,-1);else{if("enter"===t)return void checkPin();currentPin.length<4&&(currentPin+=t)}updatePinDisplay(),4===currentPin.length&&setTimeout(checkPin,300)}function checkPin(){4===currentPin.length?"2929"===currentPin?(pinMessage.textContent="Xin Má»i Em VÃ o",playSound(pinSuccessSound,1),setTimeout(()=>{pinScreen.classList.add("hidden"),setTimeout(showHeart,500)},1e3)):(pinMessage.textContent="Æ , Sai Rá»“i Ã€",currentPin="",updatePinDisplay(),keypad.style.animation="shake 0.5s",setTimeout(()=>{keypad.style.animation="none"},500)):pinMessage.textContent="4 chá»¯ sá»‘ mÃ  nÃ ng thÆ¡ Æ¡iiii"}keypad.addEventListener("click",t=>{if(t.target.classList.contains("pin-button")){const e=t.target.textContent,n=t.target.dataset.action;n?handleKeyPress(n):isNaN(parseInt(e))||handleKeyPress(e)}});const heartWrapper=document.getElementById("heartWrapper"),envelopeWrapper=document.getElementById("envelopeWrapper"),letter=document.getElementById("letter"),letterContent=document.getElementById("letterContent"),statusMessage=document.getElementById("statusMessage"),flapDuration=800,heartTransitionDuration=300,initialHeart=document.getElementById("initialHeart"),firstTimeContent='\n            <h2 style="color: #C0392B;">ğŸŒŸ MÃ³n QuÃ  Äáº·c Biá»‡t Cho Em ğŸ„</h2>\n            <p style="margin-top: 10px;">Merry Christmas, Em BÃ© (â‰§â—¡â‰¦) ğŸ¥°</p>\n            <p>MÃ¹a Ä‘Ã´ng nÃ y, Anh muá»‘n gá»­i Ä‘áº¿n Em tháº­t nhiá»u sá»± áº¥m Ã¡p vÃ  nhá»¯ng Ä‘iá»u tá»‘t Ä‘áº¹p nháº¥t. GiÃ¡ng Sinh cÃ³ thá»ƒ láº¡nh, nhÆ°ng tÃ¬nh cáº£m cá»§a Anh luÃ´n sáºµn sÃ ng sÆ°á»Ÿi áº¥m cho Em. HÃ£y cÃ¹ng nhau Ä‘Ã³n thÃªm nhiá»u mÃ¹a lá»… há»™i ná»¯a nhÃ©!</p>\n            <p>ğŸ“ Em lÃ  Ä‘iá»u Æ°á»›c GiÃ¡ng Sinh tuyá»‡t vá»i nháº¥t cá»§a Anh.</p>\n            <p style="color: #27AE60; font-weight: bold;">â€” From A with... ğŸ’š</p>\n        ';function launchConfetti(t,e){const n=["#C0392B","#27AE60","#F1C40F","#FFFFFF"],i=document.body;for(let s=0;s<80;s++){const s=document.createElement("div");s.classList.add("confetti","star");const a=n[Math.floor(Math.random()*n.length)];s.style.backgroundColor=a,s.style.left=`${t}px`,s.style.top=`${e}px`,s.style.opacity=1;const o=Math.random()*Math.PI*2,l=350*Math.random()+150,r=1080*Math.random()*2,c=Math.cos(o)*l,d=Math.sin(o)*l+150,h=1.5*Math.random()+1;s.style.setProperty("--x",`${c}px`),s.style.setProperty("--y",`${d}px`),s.style.setProperty("--r",`${r}deg`),s.style.animation=`fall ${h}s ease-out forwards`,i.appendChild(s),setTimeout(()=>{s.remove()},1e3*h)}}function checkAndSetContent(){letterContent.innerHTML=firstTimeContent,applyTypewriterEffect(letterContent,1e3),statusMessage.textContent="Vá»›i Anh Ä‘iá»u tuyá»‡t vá»i lÃ  Ä‘Æ°á»£c lÃ m Em Háº¡nh PhÃºc ğŸ’",statusMessage.style.color="#C0392B",statusMessage.style.animation="none",statusMessage.style.bottom="20px",statusMessage.style.opacity="1"}function showHeart(){heartWrapper.classList.add("active"),heartWrapper.classList.remove("invisible","hidden"),envelopeWrapper.classList.remove("visible","active"),statusMessage.style.bottom="10px",statusMessage.textContent="Cháº¡m vÃ o Quáº£ Cáº§u Tuyáº¿t Ä‘á»ƒ báº¯t Ä‘áº§u..."}function showEnvelope(){const t=initialHeart.getBoundingClientRect();launchConfetti(t.left+t.width/2,t.top+t.height/2),heartWrapper.classList.remove("active"),envelopeWrapper.classList.add("visible","active"),heartWrapper.classList.add("hidden"),statusMessage.textContent="áº¤n vÃ o bÃ¬ thÆ° Ä‘á»ƒ má»Ÿ ra nhÃ©!",statusMessage.style.bottom="20px",envelopeWrapper.addEventListener("click",openEnvelope,{once:!0}),setTimeout(()=>{heartWrapper.classList.add("invisible")},300),isMuted&&(bgm.muted=!1,bgm.play().catch(t=>console.error("Lá»—i phÃ¡t nháº¡c ná»n sau tÆ°Æ¡ng tÃ¡c TrÃ¡i tim:",t)),isMuted=!1,bgmUserInitiated=!0,soundToggle.textContent="ğŸ”Š")}function openEnvelope(){envelopeWrapper.classList.remove("active"),envelopeWrapper.classList.add("open"),statusMessage.style.opacity="0",playSound(envelopeOpenSound,.7);const t=envelopeWrapper.getBoundingClientRect();letter.style.position="fixed",letter.style.top=`${t.top}px`,letter.style.left=`${t.left}px`,letter.style.width=`${t.width}px`,letter.style.height=`${t.height}px`,letter.style.opacity="1",document.body.appendChild(letter),setTimeout(()=>{envelopeWrapper.classList.add("hidden"),requestAnimationFrame(()=>{letter.style.top="",letter.style.left="",letter.style.width="",letter.style.height="",letter.classList.add("opened"),setTimeout(()=>{letter.classList.add("final-scale");const t=letter.getBoundingClientRect();launchConfetti(t.left+t.width/2,t.top+t.height/2),setTimeout(checkAndSetContent,500)},1200)})},900)}const christmasIcon=document.getElementById("christmasIcon"),greetingModal=document.getElementById("greetingModal");function showGreetingModal(){greetingModal.classList.add("active")}function hideGreetingModal(){greetingModal.classList.remove("active")}function initializeApp(){heartWrapper.classList.add("invisible"),heartWrapper.addEventListener("click",showEnvelope,{once:!0}),updatePinDisplay()}window.hideGreetingModal=hideGreetingModal,christmasIcon.addEventListener("click",showGreetingModal),initializeApp()</script>